{% extends "core/base.html" %}

{% block title %}Cart{% endblock title %}

{% block content %}
    <div class="mt-6 px-4 sm:px-6 md:px-8 lg:px-10 py-12 bg-gray-100 rounded-xl">
        <h2 class="mb-8 text-2xl text-center text-gray-700 font-bold underline">CART</h2>

        <form method="POST" action="{% url 'cart:update_cart' %}">
            {% csrf_token %}
            <div class="px-3 py-3 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 bg-[url('/media/media/jfa_bg_fire.JPG')] bg-cover bg-no-repeat">
                {% for cart_item in cart_items %}
                    <div class="bg-white rounded-lg px-3 py-3">
                        <a href="{% url 'item:detail' cart_item.item.id %}">
                            <div class="overflow-hidden rounded-t-lg">
                                <img src="{{ cart_item.item.image.url }}" class="w-full h-auto">
                            </div>
                            <div class="px-4 py-2">
                                <h2 class="text-lg font-bold">{{ cart_item.item.name }}</h2>
                                <p class="text-gray-500">Price: {{ cart_item.item.price }}</p>
                            </div>
                        </a>
                        <div class="px-3 py-2">
                            <p class="text-gray-500 px-1 py-2">Quantity:
                                <input type="number" name="quantity_{{ cart_item.id }}" min="1" value="{{ cart_item.quantity }}">
                            </p>
                            <div><button class="px-3 py4" type="submit">Update quantity</button></div>
                            <a href="{% url "cart:remove_from_cart" cart_item.item.id %}" class="px-4 py-1 text-sm lg:px-6 lg:py-3 text-lg font-semibold bg-orange-500 text-white rounded-xl hover:bg-teal-700">Remove from cart</a>
                        </div>
                    </div>
                {% endfor %}
              
            </div>
            <br>
            <a href="{% url "cart:account_display" %}" class="px-6 py-3 text-sm lg:px-6 lg:py-3 text-lg font-semibold bg-orange-500 text-white rounded-xl hover:bg-teal-700">Order</a>
        </form>
    </div>
{% endblock content %}